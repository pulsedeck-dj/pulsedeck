<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PulseDeck Party Requests</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Space+Grotesk:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="shape shape-a" aria-hidden="true"></div>
    <div class="shape shape-b" aria-hidden="true"></div>
    <div class="shape shape-c" aria-hidden="true"></div>

    <main class="shell">
      <header class="hero reveal">
        <p class="eyebrow">PulseDeck Live Request System</p>
        <h1>Party Code In. Song Queue Out.</h1>
        <p class="subtitle">
          DJ account authentication, secure party sessions, and live song requests with Apple Music search.
        </p>
        <div class="flow-strip" aria-label="How it works">
          <span>Sign in DJ</span>
          <span>Create room</span>
          <span>Claim DJ app</span>
          <span>Guests request songs</span>
        </div>
      </header>

      <section class="panel-grid panel-grid-3">
        <article class="panel reveal delay-1" id="authSection">
          <div class="panel-head">
            <h2>DJ Account</h2>
            <span class="chip">Auth</span>
          </div>
          <p class="panel-copy">Register or log in before creating party codes.</p>

          <form id="authForm" class="form-grid">
            <label for="authEmail">Email</label>
            <input id="authEmail" type="email" autocomplete="email" required />

            <label for="authPassword">Password</label>
            <input id="authPassword" type="password" minlength="10" autocomplete="current-password" required />

            <div class="button-row">
              <button id="registerBtn" class="btn btn-secondary" type="button">Register</button>
              <button id="loginBtn" class="btn btn-primary" type="button">Login</button>
            </div>
          </form>

          <button id="logoutBtn" class="btn btn-ghost hidden" type="button">Logout</button>
          <p id="authResult" class="status status-neutral" aria-live="polite">Not signed in.</p>
          <p id="authIdentity" class="micro-note hidden"></p>
        </article>

        <article class="panel reveal delay-2" id="createSection">
          <div class="panel-head">
            <h2>DJ Console</h2>
            <span class="chip">Secure</span>
          </div>
          <p class="panel-copy">Create a party room and private DJ key.</p>
          <button id="createPartyBtn" class="btn btn-primary" disabled>Create Party</button>
          <p id="createResult" class="status status-neutral" aria-live="polite">Sign in to create parties.</p>

          <div id="djSecrets" class="secret-grid hidden" aria-live="polite">
            <div class="secret-card">
              <span>Party Code</span>
              <strong id="partyCodeOut">------</strong>
            </div>
            <div class="secret-card">
              <span>DJ Key</span>
              <strong id="djKeyOut">----------</strong>
            </div>
          </div>

          <p class="micro-note">Share the party code publicly. Keep the DJ key private.</p>
        </article>

        <article class="panel reveal delay-3" id="joinSection">
          <div class="panel-head">
            <h2>Guest Entry</h2>
            <span class="chip">Live</span>
          </div>
          <p class="panel-copy">Enter the code shown by the DJ.</p>
          <form id="joinForm" class="form-grid">
            <label for="partyCode">Party Code</label>
            <input id="partyCode" maxlength="6" autocomplete="off" required />
            <button type="submit" class="btn btn-secondary">Join Party</button>
          </form>
          <p id="joinResult" class="status status-neutral" aria-live="polite">Waiting for code.</p>
        </article>
      </section>

      <section class="panel hidden reveal" id="requestSection">
        <div class="panel-head">
          <h2>Send Song Request</h2>
          <span class="chip">Queue</span>
        </div>

        <form id="requestForm" class="form-grid">
          <p class="mini-label">Choose service</p>
          <div class="service-row" role="radiogroup" aria-label="Music service">
            <label class="service-pill">
              <input type="radio" name="service" value="Apple Music" checked />
              <span>Apple Music</span>
            </label>
            <label class="service-pill">
              <input type="radio" name="service" value="Spotify" />
              <span>Spotify</span>
            </label>
            <label class="service-pill">
              <input type="radio" name="service" value="YouTube" />
              <span>YouTube</span>
            </label>
          </div>

          <div id="appleSearchSection" class="apple-search">
            <label for="appleSearchTerm">Search Apple Music</label>
            <div class="search-row">
              <input id="appleSearchTerm" maxlength="120" placeholder="Search song or artist" />
              <button id="appleSearchBtn" class="btn btn-secondary" type="button">Search</button>
            </div>
            <p id="appleSearchStatus" class="status status-neutral">Search to autofill song info.</p>
            <div id="appleSearchResults" class="search-results"></div>
          </div>

          <label for="title">Song Title</label>
          <input id="title" maxlength="120" required />

          <label for="artist">Artist</label>
          <input id="artist" maxlength="120" required />

          <label for="appleMusicUrl">Song URL (optional)</label>
          <input id="appleMusicUrl" maxlength="500" placeholder="https://music.apple.com/..." />

          <button type="submit" class="btn btn-primary">Submit Request</button>
        </form>

        <p id="requestResult" class="status status-neutral" aria-live="polite">No request submitted yet.</p>
      </section>
    </main>

    <script src="config.js"></script>
    <script src="script.js"></script>
  </body>
</html>
